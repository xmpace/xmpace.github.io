虚拟路由器冗余协议VRRP

之前一直疑惑MGW怎么做到升级0丢包的，按理说请求包可以由任意一台MGW转发没错，但是响应包还得回原MGW才对，因为会话的源IP还在原MGW上，今天看数据库高可用碰巧搞明白了，MGW的IP应该都是VIP，是可以在机器之间漂移的，所以升级的时候首先得把原MGW的VIP漂移到其它机器，这样，所有的响应包就都迁走了，然后再通过关交换机物理端口迁走所有的请求包，完美~