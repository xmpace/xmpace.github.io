---
layout: post
title: "单点登录系统高可用架构"
excerpt: 单点登录系统的高可用架构
background: /img/bg-post.jpg
---

一种是集中式的，登录 token 及业务 token 的颁发和校验都在一个地方，风险是一旦挂了，全局都挂。

改进式的高可用架构是，登录 token 颁发放一个地方，客户端拿到这个 token 后找业务方要业务 token，业务方拿登录 token 找登录中心校验用户数据，登录中心返回用户数据，业务方拿到用户数据后生成业务 token，返回给客户端。之后客户端用业务 token 与业务方交互，登录后就不再需要登录中心了，除了 token 过期的时候。这样可以隔离各个业务与登录中心的风险。